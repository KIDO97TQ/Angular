<div class="checkout-container">

    <h2 class="text">Thanh toán thuê đồ</h2>

    <!-- Danh sách sản phẩm -->
    <div class="cart-section">
        <h3>Sản phẩm thuê</h3>

        <div class="cart-item" *ngFor="let item of cartItems">
            <div class="item-image">
                <img [src]="item.imageUrl" [alt]="item.productname">
            </div>
            <div>
                <strong class="name-user">{{ item.productname }}</strong>
                <p>{{ item.productprice | number }}đ / ngày</p>
            </div>
            <div>x{{ item.quantity }}</div>
        </div>
    </div>

    <!-- Form thông tin -->
    <form [formGroup]="checkoutForm" class="checkout-form">

        <h3>Thông tin người thuê</h3>

        <label>Tên</label>
        <input type="text" placeholder="Họ và tên" formControlName="fullname" />
        <label>Số điện thoại</label>
        <input type="text" placeholder="Số điện thoại" formControlName="phone" />

        <label>Ngày thuê</label>
        <input type="date" formControlName="rentDate" [min]="today" />

        <label>Ngày trả</label>
        <input type="date" formControlName="returnDate" [min]="today" />

    </form>

    <!-- Tổng tiền -->
    <div class="summary">
        <p>Số ngày thuê: <strong>{{ rentalDays }}</strong></p>
        <p>Tiền thuê / ngày: <strong>{{ subtotal | number }}đ</strong></p>
        <p>Tổng tiền thuê / ngày: <strong>{{ totalmoney | number }}đ</strong></p>
        <h3>Thanh toán tiền cọc: {{ cartService.depositAmount() | number }}đ</h3>
    </div>

    <!-- <div class="qr-box" *ngIf="qrUrl">
        <h3>Quét mã để thanh toán</h3>

        <img [src]="qrUrl" width="250" />

        <p>Số tiền: <strong>{{ cartService.depositAmount() | number }}đ</strong></p>
        <p>Nội dung chuyển khoản: <strong>{{ orderCode }}</strong></p>
    </div> -->


    <button class="checkout-btn" (click)="createDepositPayment()" [disabled]="isLoading">

        <span *ngIf="!isLoading">Xác nhận thuê</span>

        <span *ngIf="isLoading" class="btn-loading">
            <span class="spinner"></span>
            Đang xử lý...
        </span>

    </button>

</div>